<!--
******************************************
PBE CONTROL - 4atabcursosyrep.html - V01.19 GPT
Sistema de Gesti贸n Acad茅mica
04/01/2026

DESCRIPCIN GENERAL:
Contenedor principal para los sub-tabs de Cursos y Repasos
dentro del Panel del Estudiante.

Este archivo NO contiene l贸gica de negocio.
Su 煤nica funci贸n es:
- Organizar visualmente
- Gestionar navegaci贸n entre sub-tabs
- Incluir los archivos hijos correspondientes

CAMBIOS IMPORTANTES:
- JavaScript encapsulado con IIFE
- Funci贸n switchSubTab expuesta de forma controlada
******************************************
-->

<!-- ======================================================
     SECCIN 1: ESTILOS DE LOS SUB-TABS
     Define la apariencia visual de la navegaci贸n interna
     ====================================================== -->
<style>

  /* Contenedor general de los sub-tabs */
  .subtabs-container {
    margin-bottom: 20px;
  }

  /* Barra de navegaci贸n horizontal */
  .subtabs-nav {
    display: flex;
    gap: 8px;
    border-bottom: 2px solid #e0e0e0;
    margin-bottom: 20px;
  }

  /* Botones de cada sub-tab */
  .subtab-btn {
    padding: 12px 24px;
    font-size: 14px;
    font-weight: 600;
    color: #666;
    background: transparent;
    border: none;
    border-bottom: 3px solid transparent;
    cursor: pointer;
    transition: all 0.3s;
    font-family: inherit;
  }

  /* Hover visual */
  .subtab-btn:hover {
    color: #667eea;
    background: #f9f9f9;
  }

  /* Estado activo */
  .subtab-btn.active {
    color: #667eea;
    border-bottom-color: #667eea;
  }

  /* Contenido de cada sub-tab */
  .subtab-content {
    display: none;
  }

  /* Sub-tab visible */
  .subtab-content.active {
    display: block;
    animation: fadeIn 0.3s ease-out;
  }

  /* Animaci贸n suave al cambiar sub-tab */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ===============================
     RESPONSIVE: DISPOSITIVOS MVILES
     =============================== */
  @media (max-width: 768px) {

    .subtabs-nav {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .subtab-btn {
      white-space: nowrap;
      padding: 10px 20px;
      font-size: 13px;
    }
  }
</style>

<!-- ======================================================
     SECCIN 2: ESTRUCTURA HTML DE LOS SUB-TABS
     Define botones y contenedores
     ====================================================== -->
<div class="subtabs-container">

  <!-- Navegaci贸n entre sub-tabs -->
  <div class="subtabs-nav">

    <!-- Bot贸n: Cursos -->
    <button class="subtab-btn active"
            id="btn-subtab-cursos"
            onclick="switchSubTab('cursos')">
       Cursos
    </button>

    <!-- Bot贸n: Repasos -->
    <button class="subtab-btn"
            id="btn-subtab-repasos"
            onclick="switchSubTab('repasos')">
       Repasos
    </button>

  </div>

  <!-- ==================================================
       CONTENIDO SUB-TAB: CURSOS
       Incluye archivo 5atabcursos.html
       ================================================== -->
  <div id="subtab-cursos" class="subtab-content active">
    <?!= include('5atabcursos'); ?>
  </div>

  <!-- ==================================================
       CONTENIDO SUB-TAB: REPASOS
       Incluye archivo 5atabrepasos.html
       ================================================== -->
  <div id="subtab-repasos" class="subtab-content">
    <?!= include('5atabrepasos'); ?>
  </div>

</div>

<!-- ======================================================
     SECCIN 3: JAVASCRIPT LOCAL (ENCAPSULADO)
     Controla SOLO la navegaci贸n visual entre sub-tabs
     ====================================================== -->
<script>
(function () {

  /**
   * ------------------------------------------------------
   * FUNCIN: switchSubTab
   * Cambia visualmente entre Cursos y Repasos
   * ------------------------------------------------------
   * @param {string} subTabName - 'cursos' | 'repasos'
   */
  function switchSubTab(subTabName) {

    // Oculta todos los contenidos
    document.querySelectorAll('.subtab-content')
      .forEach(el => el.classList.remove('active'));

    // Desactiva todos los botones
    document.querySelectorAll('.subtab-btn')
      .forEach(el => el.classList.remove('active'));

    // Activa el contenido seleccionado
    document.getElementById('subtab-' + subTabName)
      .classList.add('active');

    // Activa el bot贸n correspondiente
    document.getElementById('btn-subtab-' + subTabName)
      .classList.add('active');

    console.log('Sub-tab cambiado a:', subTabName);
  }

  /**
   * ------------------------------------------------------
   * EXPOSICIN CONTROLADA DE FUNCIN
   * Necesaria para que onclick del HTML funcione
   * ------------------------------------------------------
   */
  window.switchSubTab = switchSubTab;

  /**
   * ------------------------------------------------------
   * LOG DE CONFIRMACIN DE CARGA
   * ------------------------------------------------------
   */
  console.log(
    '%c Contenedor Cursos/Repasos cargado correctamente',
    'font-size:12px;font-weight:bold;color:#667eea'
  );

})();
</script>
